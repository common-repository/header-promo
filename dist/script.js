(()=>{"use strict";const e=wp.i18n;const t=function(t,o,r){var n=Object.assign({date:null,offset:null},o),s=function(e){return t.querySelector(e).textContent},a=function(e,o){t.querySelector(e).textContent=o};if(!n.date)throw new Error("Date is not defined.");if(!Date.parse(n.date))throw new Error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.");var i=setInterval((function(){var t,o,d=new Date(n.date)-(t=new Date,o=t.getTime()+6e4*t.getTimezoneOffset(),new Date(o+36e5*n.offset));if(d<0)return clearInterval(i),void(r&&"function"==typeof r&&r());var l=6e4,m=36e5,p=864e5,c=Math.floor(d/p),y=Math.floor(d%p/m),f=Math.floor(d%m/l),u=Math.floor(d%l/1e3);c=String(c).length>=2?c:"0"+c,y=String(y).length>=2?y:"0"+y,f=String(f).length>=2?f:"0"+f,u=String(u).length>=2?u:"0"+u;var h="01"===c?(0,e.__)("day","header-promo"):(0,e.__)("days","header-promo"),g="01"===y?(0,e.__)("hour","header-promo"):(0,e.__)("hours","header-promo"),_="01"===f?(0,e.__)("minute","header-promo"):(0,e.__)("minutes","header-promo"),v="01"===u?(0,e.__)("second","header-promo"):(0,e.__)("seconds","header-promo");a(".days",c),a(".hours",y),a(".minutes",f),a(".seconds",u),"days"===s(".days_ref")&&a(".days_ref",h),"hours"===s(".hours_ref")&&a(".hours_ref",g),"minutes"===s(".minutes_ref")&&a(".minutes_ref",_),"seconds"===s(".seconds_ref")&&a(".seconds_ref",v)}),1e3);return i};document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("promo-outer");if(e){var o=JSON.parse(e.dataset.options),r=o.promoStopReappear,n=o.promo_countdown_off_on,s=o.promo_count_date,a=o.promo_count_time,i="1"===r;if(e.querySelector("#close").addEventListener("click",(function(){e.classList.remove("promoOpened"),e.classList.add("promoClosed"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")}),t)}(e,400),i?localStorage.setItem("bphpPromo",JSON.stringify({closed:!0})):localStorage.removeItem("bphpPromo")})),i){var d=JSON.parse(localStorage.getItem("bphpPromo"));null!=d&&d.closed||(e.style.display="block")}"1"===n&&t(e.querySelector(".countdown"),{date:"".concat(s," ").concat(a)}),e.removeAttribute("data-options")}}))})();
//# sourceMappingURL=script.js.map